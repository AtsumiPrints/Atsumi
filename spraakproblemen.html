<!DOCTYPE html>
<html lang="nl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Spraakproblemen - Atsumi</title>
    <style>
        :root {
            --autism-blue: #0077B6;
            --autism-light-blue: #90E0EF;
            --autism-purple: #7209B7;
            --autism-pink: #F72585;
            --autism-yellow: #FFD166;
            --autism-green: #06D6A0;
            --autism-orange: #FF9E00;
            --light: #f0f9ff;
            --dark: #023047;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Comic Sans MS', 'Chalkboard SE', cursive, sans-serif;
        }
        
        body {
            background-color: var(--light);
            color: var(--dark);
            line-height: 1.6;
        }
        
        header {
            background: linear-gradient(135deg, var(--autism-blue), var(--autism-purple));
            color: white;
            padding: 1rem;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        .container {
            width: 90%;
            max-width: 1200px;
            margin: 0 auto;
        }
        
        .header-top {
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
        }
        
        .logo {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .logo h1 {
            font-size: 1.8rem;
        }
        
        .logo-icon {
            font-size: 2.5rem;
        }
        
        nav ul {
            display: flex;
            list-style: none;
            gap: 20px;
        }
        
        nav a {
            color: white;
            text-decoration: none;
            font-weight: bold;
            padding: 5px 10px;
            border-radius: 20px;
            transition: background 0.3s;
        }
        
        nav a:hover {
            background: rgba(255,255,255,0.2);
        }

        .page-header {
            text-align: center;
            padding: 3rem 1rem;
            background: linear-gradient(rgba(0, 119, 182, 0.9), rgba(114, 9, 183, 0.9));
            color: white;
        }

        .page-header h1 {
            font-size: 2.5rem;
            margin-bottom: 1rem;
        }

        .page-header .header-icon {
            font-size: 4rem;
            margin-bottom: 1rem;
        }

        .exercises-section {
            padding: 3rem 1rem;
        }

        .exercises-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
            margin-top: 2rem;
        }

        .exercise-card {
            background: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            text-align: center;
            transition: transform 0.3s;
            border-top: 5px solid var(--autism-pink);
        }

        .exercise-card:hover {
            transform: translateY(-5px);
        }

        .exercise-icon {
            font-size: 4rem;
            margin-bottom: 15px;
        }

        .exercise-card h3 {
            color: var(--autism-blue);
            margin-bottom: 15px;
            font-size: 1.5rem;
        }

        .exercise-card p {
            margin-bottom: 20px;
            color: var(--dark);
        }

        .exercise-btn {
            display: inline-block;
            padding: 12px 25px;
            background: var(--autism-light-blue);
            color: var(--dark);
            text-decoration: none;
            border-radius: 25px;
            transition: all 0.3s;
            font-weight: bold;
            border: none;
            cursor: pointer;
            font-size: 1rem;
        }

        .exercise-btn:hover {
            background: var(--autism-blue);
            color: white;
            transform: translateY(-2px);
        }

        .back-btn {
            display: inline-block;
            margin-bottom: 2rem;
            padding: 10px 20px;
            background: var(--autism-light-blue);
            color: var(--dark);
            text-decoration: none;
            border-radius: 25px;
            transition: all 0.3s;
            font-weight: bold;
        }

        .back-btn:hover {
            background: var(--autism-blue);
            color: white;
            transform: translateY(-2px);
        }

        /* AI Generator Styles */
        .ai-generator-section {
            background: linear-gradient(135deg, var(--autism-green), var(--autism-blue));
            padding: 3rem 1rem;
            margin: 2rem 0;
            border-radius: 20px;
            color: white;
        }

        .ai-generator-card {
            background: rgba(255,255,255,0.95);
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 8px 25px rgba(0,0,0,0.2);
            color: var(--dark);
        }

        .ai-generator-card h2 {
            color: var(--autism-purple);
            margin-bottom: 1rem;
            text-align: center;
            font-size: 2rem;
        }

        .ai-generator-card p {
            text-align: center;
            margin-bottom: 2rem;
            color: var(--dark);
        }

        .generator-form {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 2rem;
        }

        .form-group {
            display: flex;
            flex-direction: column;
        }

        .form-group label {
            margin-bottom: 8px;
            font-weight: bold;
            color: var(--autism-blue);
        }

        .form-group select, .form-group input {
            padding: 12px;
            border: 2px solid var(--autism-light-blue);
            border-radius: 10px;
            font-size: 1rem;
            background: white;
        }

        .generate-btn {
            grid-column: 1 / -1;
            padding: 15px;
            background: var(--autism-pink);
            color: white;
            border: none;
            border-radius: 25px;
            font-size: 1.1rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
            margin-top: 1rem;
        }

        .generate-btn:hover {
            background: var(--autism-purple);
            transform: translateY(-3px);
        }

        .ai-result {
            margin-top: 2rem;
            padding: 20px;
            background: var(--light);
            border-radius: 10px;
            border-left: 5px solid var(--autism-green);
            display: none;
        }

        .ai-result h3 {
            color: var(--autism-green);
            margin-bottom: 1rem;
        }

        .ai-result-content {
            line-height: 1.8;
        }

        .result-actions {
            margin-top: 1rem;
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }

        .save-btn, .edit-btn {
            padding: 8px 16px;
            border: none;
            border-radius: 15px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s;
        }

        .save-btn {
            background: var(--autism-green);
            color: white;
        }

        .edit-btn {
            background: var(--autism-yellow);
            color: var(--dark);
        }

        .save-btn:hover, .edit-btn:hover {
            transform: translateY(-2px);
        }

        .loading {
            text-align: center;
            padding: 2rem;
            display: none;
        }

        .loading-spinner {
            border: 4px solid var(--autism-light-blue);
            border-top: 4px solid var(--autism-blue);
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin: 0 auto 1rem;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        footer {
            background: var(--dark);
            color: white;
            padding: 3rem 1rem 1rem;
            margin-top: 3rem;
        }

        .footer-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 30px;
            margin-bottom: 2rem;
        }

        .footer-section h3 {
            margin-bottom: 15px;
            color: var(--autism-yellow);
        }

        .footer-section ul {
            list-style: none;
        }

        .footer-section ul li {
            margin-bottom: 10px;
        }

        .footer-section a {
            color: #ddd;
            text-decoration: none;
            transition: color 0.3s;
        }

        .footer-section a:hover {
            color: var(--autism-yellow);
        }

        .contact-info {
            margin-top: 10px;
        }

        .contact-info div {
            margin-bottom: 8px;
        }

        .copyright {
            text-align: center;
            padding-top: 20px;
            border-top: 1px solid #444;
            color: #aaa;
            font-size: 0.9rem;
        }

        .email-link {
            color: var(--autism-blue);
            text-decoration: none;
            font-weight: bold;
            transition: color 0.3s;
        }

        .email-link:hover {
            color: var(--autism-purple);
            text-decoration: underline;
        }

        @media (max-width: 768px) {
            .header-top {
                flex-direction: column;
                gap: 15px;
            }
            
            nav ul {
                flex-wrap: wrap;
                justify-content: center;
            }
            
            .page-header h1 {
                font-size: 2rem;
            }
            
            .exercises-grid {
                grid-template-columns: 1fr;
            }

            .generator-form {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <header>
        <div class="container">
            <div class="header-top">
                <div class="logo">
                    <div class="logo-icon">üêß</div>
                    <h1>Atsumi</h1>
                </div>
                <nav>
                    <ul>
                        <li><a href="index.html">Home</a></li>
                        <li><a href="oefeningen.html">Oefeningen</a></li>
                        <li><a href="autisme.html">Autisme</a></li>
                        <li><a href="forum.html">Forum</a></li>
                        <li><a href="contact.html">Contact</a></li>
                    </ul>
                </nav>
            </div>
        </div>
    </header>

    <section class="page-header">
        <div class="container">
            <div class="header-icon">üó£Ô∏è</div>
            <h1>Spraakproblemen Oefeningen</h1>
            <p>Oefeningen voor verbetering van communicatie, uitspraak en taalontwikkeling</p>
        </div>
    </section>

    <section class="exercises-section">
        <div class="container">
            <a href="oefeningen.html" class="back-btn">‚Üê Terug naar alle oefeningen</a>

            <!-- AI Oefening Generator -->
            <section class="ai-generator-section">
                <div class="ai-generator-card">
                    <h2>üéØ Slimme Oefening Generator</h2>
                    <p>Onze intelligente generator maakt direct gepersonaliseerde oefeningen - geen account nodig!</p>
                    
                    <form class="generator-form" id="aiGeneratorForm">
                        <div class="form-group">
                            <label for="leerdoel">Leerdoel:</label>
                            <select id="leerdoel" required>
                                <option value="">Kies een leerdoel</option>
                                <option value="spraak">Spraakontwikkeling</option>
                                <option value="emoties">Emotieherkenning</option>
                                <option value="sociale_vaardigheden">Sociale Vaardigheden</option>
                                <option value="concentratie">Concentratie</option>
                                <option value="taal">Taalbegrip</option>
                                <option value="zelfredzaamheid">Zelfredzaamheid</option>
                                <option value="sensoriek">Sensorieke Integratie</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="leeftijd">Leeftijd:</label>
                            <select id="leeftijd" required>
                                <option value="">Kies leeftijd</option>
                                <option value="3-5">3-5 jaar</option>
                                <option value="6-8">6-8 jaar</option>
                                <option value="9-12">9-12 jaar</option>
                                <option value="13-16">13-16 jaar</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="interesses">Interesses (optioneel):</label>
                            <input type="text" id="interesses" placeholder="bv. dieren, auto's, ruimte, treinen...">
                        </div>
                        
                        <div class="form-group">
                            <label for="moeilijkheidsgraad">Moeilijkheidsgraad:</label>
                            <select id="moeilijkheidsgraad" required>
                                <option value="eenvoudig">Eenvoudig</option>
                                <option value="gemiddeld">Gemiddeld</option>
                                <option value="uitdagend">Uitdagend</option>
                            </select>
                        </div>
                        
                        <button type="submit" class="generate-btn" id="generateBtn">üé≤ Genereer Oefening</button>
                    </form>

                    <div class="loading" id="loadingIndicator">
                        <div class="loading-spinner"></div>
                        <p>Bezig met maken van oefening...</p>
                    </div>

                    <div class="ai-result" id="aiResult">
                        <h3>üéâ Jouw Gepersonaliseerde Oefening</h3>
                        <div class="ai-result-content" id="aiResultContent">
                            <!-- Hier komt de gegenereerde oefening -->
                        </div>
                        <div class="result-actions">
                            <button class="save-btn" onclick="saveExercise()">üíæ Opslaan</button>
                            <button class="edit-btn" onclick="editExercise()">‚úèÔ∏è Aanpassen</button>
                            <button class="generate-btn" onclick="generateNew()">üîÑ Nieuwe Oefening</button>
                        </div>
                    </div>
                </div>
            </section>

            <div class="exercises-grid">
                <div class="exercise-card">
                    <div class="exercise-icon">üî§</div>
                    <h3>Alfabet</h3>
                    <p>Klik op de letters van het alfabet en beluister ze.</p>
                    <a href="alfabet.html" class="exercise-btn">Start oefening</a>
                </div>
                
                <div class="exercise-card">
                    <div class="exercise-icon">üëê</div>
                    <h3>SMOG Gebaren</h3>
                    <p>Leer communiceren met ondersteuning van gebaren.</p>
                    <a href="smog.html" class="exercise-btn">Start oefening</a>
                </div>

                <!-- Hier kun je later meer spraakoefeningen toevoegen -->
                <!--
                <div class="exercise-card">
                    <div class="exercise-icon">üéµ</div>
                    <h3>Klankherkenning</h4>
                    <p>Leer verschillende klanken herkennen en onderscheiden.</p>
                    <a href="klankherkenning.html" class="exercise-btn">Start oefening</a>
                </div>
                -->
            </div>
        </div>
    </section>

    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>Atsumi</h3>
                    <p>Wij bieden educatieve oefeningen speciaal ontwikkeld voor kinderen met autisme en leeruitdagingen.</p>
                </div>
                <div class="footer-section">
                    <h3>Snelle Links</h3>
                    <ul>
                        <li><a href="index.html">Home</a></li>
                        <li><a href="oefeningen.html">Oefeningen</a></li>
                        <li><a href="autisme.html">Autisme</a></li>
                        <li><a href="forum.html">Forum</a></li>
                        <li><a href="contact.html">Contact</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h3>Contact</h3>
                    <div class="contact-info">
                        <div><strong>Email:</strong> <a href="mailto:AtsumiPrints@hotmail.com" class="email-link" style="color: #ddd;">AtsumiPrints@hotmail.com</a></div>
                        <div><strong>Telefoon:</strong> +32 451 08 38 17</div>
                    </div>
                </div>
            </div>
            <div class="copyright">
                <p>&copy; 2023 Atsumi. Alle rechten voorbehouden. üß©</p>
            </div>
        </div>
    </footer>

    <script>
        // Uitgebreide database met oefeningen
        const oefeningenDatabase = {
            spraak: {
                "3-5": {
                    eenvoudig: [
                        {
                            titel: "Dierengeluiden Spel",
                            doel: "Basis klankherkenning en uitspraak",
                            instructies: [
                                "Toon plaatjes van verschillende dieren",
                                "Vraag: 'Welk geluid maakt dit dier?'",
                                "Doe het geluid voor en laat het kind nadoen",
                                "Begin met makkelijke geluiden: woef, miauw, boe"
                            ],
                            materialen: "Dierenplaatjes, speelgoeddieren",
                            tips: "Geef direct positieve feedback. Herhaal succesvolle geluiden.",
                            variaties: "Voeg bewegingen toe bij de geluiden"
                        },
                        {
                            titel: "Eerste Woordjes",
                            doel: "Enkelvoudige woorden uitspreken",
                            instructies: [
                                "Kies alledaagse voorwerpen: bal, pop, auto",
                                "Zeg het woord duidelijk voor",
                                "Moedig aan om na te zeggen",
                                "Gebruik gebaren ter ondersteuning"
                            ],
                            materialen: "Concrete voorwerpen of plaatjes",
                            tips: "Houd sessies kort (3-5 minuten). Vier elke poging.",
                            variaties: "Combineer met favoriete speelgoed"
                        }
                    ],
                    gemiddeld: [
                        {
                            titel: "Korte Zinnetjes",
                            doel: "Eenvoudige zinsopbouw oefenen",
                            instructies: [
                                "Begin met 2-woord zinnen: 'Mama komt', 'Bal rollen'",
                                "Bouw langzaam uit naar 3 woorden",
                                "Gebruik visuele ondersteuning (plaatjes)",
                                "Oefen dagelijkse routines"
                            ],
                            materialen: "Actieplaatjes, dagritmekaarten",
                            tips: "Wees geduldig en herhaal vaak. Gebruik eigen naam van het kind.",
                            variaties: "Maak een verhaaltje met favoriete personages"
                        }
                    ]
                },
                "6-8": {
                    eenvoudig: [
                        {
                            titel: "Klank Herkenningsspel",
                            doel: "Specifieke klanken identificeren",
                            instructies: [
                                "Kies een doelklank (bijvoorbeeld 's' of 'm')",
                                "Verzamel voorwerpen die met die klank beginnen",
                                "Laat het kind de klank herkennen in verschillende woorden",
                                "Speel 'ik hoor, ik hoor wat jij niet hoort'"
                            ],
                            materialen: "Voorwerpen of plaatjes met verschillende beginletters",
                            tips: "Maak het visueel en concreet. Gebruik eigen voorwerpen van het kind.",
                            variaties: "Focus op klanken die het kind moeilijk vindt"
                        }
                    ],
                    gemiddeld: [
                        {
                            titel: "Zinnen Nabouwen",
                            doel: "Zinsstructuur en grammatica oefenen",
                            instructies: [
                                "Geef een eenvoudige zin: 'De kat drinkt melk'",
                                "Laat het kind de zin nazeggen",
                                "Varieer met onderwerp, werkwoord, voorwerp",
                                "Gebruik plaatjes als geheugensteun"
                            ],
                            materialen: "Zin kaarten, plaatjes",
                            tips: "Breek complexe zinnen op in delen. Oefen veel herhaling.",
                            variaties: "Laat het kind eigen zinnen bedenken"
                        }
                    ],
                    uitdagend: [
                        {
                            titel: "Mini Verhaaltjes",
                            doel: "Aaneenschakeling van zinnen oefenen",
                            instructies: [
                                "Begin een kort verhaaltje (2-3 zinnen)",
                                "Laat het kind het verhaaltje nazeggen",
                                "Bouw langzaam uit naar langere verhalen",
                                "Gebruik visuele sequentiekaarten"
                            ],
                            materialen: "Verhaal sequentiekaarten, vertelstenen",
                            tips: "Houd het relevant en persoonlijk. Gebruik ervaringen van het kind.",
                            variaties: "Laat het kind het verhaal afmaken"
                        }
                    ]
                }
            },
            emoties: {
                "3-5": {
                    eenvoudig: [
                        {
                            titel: "Gezichtsuitdrukkingen Spel",
                            doel: "Basis emoties herkennen",
                            instructies: [
                                "Toon plaatjes van blije, verdrietige en boze gezichten",
                                "Vraag: 'Hoe voelt dit kindje?'",
                                "Doe de gezichtsuitdrukkingen voor in een spiegel",
                                "Koppel emoties aan eenvoudige situaties"
                            ],
                            materialen: "Emotiekaarten, spiegel",
                            tips: "Gebruik overdreven gezichtsuitdrukkingen. Benoem eigen emoties.",
                            variaties: "Maak emotie-memory of domino"
                        }
                    ]
                },
                "6-8": {
                    gemiddeld: [
                        {
                            titel: "Emotie Herkenningsspel",
                            doel: "Emoties koppelen aan situaties",
                            instructies: [
                                "Beschrijf eenvoudige situaties",
                                "Vraag welke emotie daarbij past",
                                "Bespoor waarom iemand zich zo voelt",
                                "Oefen gepaste reacties"
                            ],
                            materialen: "Situatie kaarten, emotie thermometer",
                            tips: "Gebruik concrete voorbeelden uit het leven van het kind.",
                            variaties: "Speel emotie-charades"
                        }
                    ]
                }
            },
            sociale_vaardigheden: {
                "6-8": {
                    eenvoudig: [
                        {
                            titel: "Dag Groeten Oefening",
                            doel: "Basale sociale interacties oefenen",
                            instructies: [
                                "Oefen eenvoudige groeten: 'Hallo', 'Dag', 'Tot ziens'",
                                "Speel rollenspel met knuffels",
                                "Oefen oogcontact (kort en niet dwingend)",
                                "Leer 'alsjeblieft' en 'dankjewel' in context"
                            ],
                            materialen: "Knuffels, poppen, sociale verhalen",
                            tips: "Maak het voorspelbaar. Gebruik vaste routines en scripts.",
                            variaties: "Maak een 'groeten' bingospel"
                        }
                    ]
                }
            }
        };

        // Intelligente oefening generator
        document.getElementById('aiGeneratorForm').addEventListener('submit', function(e) {
            e.preventDefault();
            generateExercise();
        });

        function generateExercise() {
            const leerdoel = document.getElementById('leerdoel').value;
            const leeftijd = document.getElementById('leeftijd').value;
            const interesses = document.getElementById('interesses').value;
            const moeilijkheidsgraad = document.getElementById('moeilijkheidsgraad').value;

            // Toon loading indicator
            document.getElementById('loadingIndicator').style.display = 'block';
            document.getElementById('aiResult').style.display = 'none';
            document.getElementById('generateBtn').disabled = true;

            // Simuleer verwerkingstijd voor betere UX
            setTimeout(() => {
                const exercise = createIntelligenteOefening(leerdoel, leeftijd, interesses, moeilijkheidsgraad);
                
                document.getElementById('loadingIndicator').style.display = 'none';
                document.getElementById('aiResultContent').innerHTML = exercise;
                document.getElementById('aiResult').style.display = 'block';
                document.getElementById('generateBtn').disabled = false;
            }, 1500);
        }

        function createIntelligenteOefening(leerdoel, leeftijd, interesses, moeilijkheidsgraad) {
            // Probeer exacte match eerst
            let oefening = findExactMatch(leerdoel, leeftijd, moeilijkheidsgraad);
            
            // Als geen exacte match, vind dichtstbijzijnde
            if (!oefening) {
                oefening = findClosestMatch(leerdoel, leeftijd, moeilijkheidsgraad);
            }
            
            // Personaliseer met interesses
            return personalizeExercise(oefening, interesses, leerdoel, leeftijd);
        }

        function findExactMatch(leerdoel, leeftijd, moeilijkheidsgraad) {
            if (oefeningenDatabase[leerdoel] && 
                oefeningenDatabase[leerdoel][leeftijd] && 
                oefeningenDatabase[leerdoel][leeftijd][moeilijkheidsgraad]) {
                
                const oefeningen = oefeningenDatabase[leerdoel][leeftijd][moeilijkheidsgraad];
                return oefeningen[Math.floor(Math.random() * oefeningen.length)];
            }
            return null;
        }

        function findClosestMatch(leerdoel, leeftijd, moeilijkheidsgraad) {
            // Fallback logica voor wanneer geen exacte match gevonden wordt
            const leeftijdRanges = ["3-5", "6-8", "9-12", "13-16"];
            const moeilijkheidsgraden = ["eenvoudig", "gemiddeld", "uitdagend"];
            
            let currentLeeftijdIndex = leeftijdRanges.indexOf(leeftijd);
            let currentMoeilijkheidIndex = moeilijkheidsgraden.indexOf(moeilijkheidsgraad);
            
            // Probeer verschillende combinaties
            for (let leeftijdOffset = 0; leeftijdOffset < leeftijdRanges.length; leeftijdOffset++) {
                for (let moeilijkheidOffset = 0; moeilijkheidOffset < moeilijkheidsgraden.length; moeilijkheidOffset++) {
                    const testLeeftijd = leeftijdRanges[
                        Math.min(leeftijdRanges.length - 1, Math.max(0, currentLeeftijdIndex + leeftijdOffset))
                    ];
                    const testMoeilijkheid = moeilijkheidsgraden[
                        Math.min(moeilijkheidsgraden.length - 1, Math.max(0, currentMoeilijkheidIndex + moeilijkheidOffset))
                    ];
                    
                    const oefening = findExactMatch(leerdoel, testLeeftijd, testMoeilijkheid);
                    if (oefening) return oefening;
                }
            }
            
            // Ultimate fallback
            return {
                titel: "Gepersonaliseerde Activiteit",
                doel: `Ontwikkelen van ${leerdoel} vaardigheden`,
                instructies: [
                    "Cre√´er een rustige, voorspelbare omgeving",
                    "Bereid materialen van tevoren voor",
                    "Geef korte, duidelijke instructies",
                    "Bied visuele ondersteuning",
                    "Geef directe positieve feedback",
                    "Houd sessies kort en succesvol"
                ],
                materialen: "Passend bij leerdoel en interesses van het kind",
                tips: "Sluit aan bij de interesses van het kind. Wees geduldig en vier kleine successen.",
                variaties: "Pas aan op basis van reacties en voortgang"
            };
        }

        function personalizeExercise(oefening, interesses, leerdoel, leeftijd) {
            let gepersonaliseerdeInstructies = [...oefening.instructies];
            let gepersonaliseerdeMaterialen = oefening.materialen;
            let gepersonaliseerdeTips = oefening.tips;
            
            if (interesses) {
                // Voeg interesses toe aan de oefening
                gepersonaliseerdeInstructies.unshift(`Sluit aan bij de interesse in: ${interesses}`);
                gepersonaliseerdeMaterialen += `, materiaal rond ${interesses}`;
                gepersonaliseerdeTips += ` Gebruik ${interesses} om motivatie te vergroten.`;
            }
            
            return `
                <div class="oefening-detail">
                    <h4>${oefening.titel}</h4>
                    <div class="oefening-meta">
                        <p><strong>Leeftijd:</strong> ${leeftijd} jaar | <strong>Moeilijkheid:</strong> ${document.getElementById('moeilijkheidsgraad').value}</p>
                    </div>
                    
                    <div class="oefening-doel">
                        <h5>üéØ Doel:</h5>
                        <p>${oefening.doel}</p>
                    </div>
                    
                    <div class="oefening-instructies">
                        <h5>üìã Stap voor stap:</h5>
                        <ol>
                            ${gepersonaliseerdeInstructies.map(instruction => `<li>${instruction}</li>`).join('')}
                        </ol>
                    </div>
                    
                    <div class="oefening-materialen">
                        <h5>üì¶ Benodigdheden:</h5>
                        <p>${gepersonaliseerdeMaterialen}</p>
                    </div>
                    
                    <div class="oefening-tips">
                        <h5>üí° Tips voor begeleiders:</h5>
                        <p>${gepersonaliseerdeTips}</p>
                    </div>
                    
                    ${oefening.variaties ? `
                    <div class="oefening-variaties">
                        <h5>üîÑ Variaties:</h5>
                        <p>${oefening.variaties}</p>
                    </div>
                    ` : ''}
                    
                    <div class="oefening-timing">
                        <h5>‚è±Ô∏è Timing:</h5>
                        <p>Start met korte sessies van 5-10 minuten. Bouw langzaam op naar maximaal 15-20 minuten.</p>
                    </div>
                </div>
            `;
        }

        function saveExercise() {
            const exerciseContent = document.getElementById('aiResultContent').innerHTML;
            // Simuleer opslaan - in een echte app zou dit naar een database gaan
            localStorage.setItem('last_generated_exercise', exerciseContent);
            
            // Toon bevestiging
            alert('‚úÖ Oefening opgeslagen! Je kunt deze later terugvinden in "Mijn Oefeningen".');
        }

        function editExercise() {
            const exerciseContent = document.getElementById('aiResultContent');
            const currentContent = exerciseContent.innerHTML;
            
            // Maak een textarea voor bewerken
            exerciseContent.innerHTML = `
                <div style="margin-bottom: 15px;">
                    <p><strong>Pas de oefening aan naar wens:</strong></p>
                    <textarea id="editExerciseArea" style="width: 100%; height: 300px; padding: 15px; border: 2px solid var(--autism-light-blue); border-radius: 8px; font-family: inherit; font-size: 1rem;">${currentContent.replace(/<[^>]*>/g, '').replace(/&nbsp;/g, ' ')}</textarea>
                </div>
                <div style="display: flex; gap: 10px;">
                    <button class="save-btn" onclick="saveEditedExercise()">üíæ Opslaan</button>
                    <button class="edit-btn" onclick="cancelEdit()">‚ùå Annuleren</button>
                </div>
            `;
        }

        function saveEditedExercise() {
            const editedContent = document.getElementById('editExerciseArea').value;
            document.getElementById('aiResultContent').innerHTML = editedContent.replace(/\n/g, '<br>');
            alert('‚úÖ Aanpassingen opgeslagen!');
        }

        function cancelEdit() {
            // Herlaad de oorspronkelijke oefening
            generateExercise();
        }

        function generateNew() {
            document.getElementById('aiGeneratorForm').reset();
            document.getElementById('aiResult').style.display = 'none';
        }
    </script>
</body>
</html>
</body>
</html>
